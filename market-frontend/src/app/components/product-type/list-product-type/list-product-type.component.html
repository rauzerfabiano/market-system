<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirmação de Exclusão</h4>
  </div>
  <div class="modal-body">
    Tem certeza que deseja excluir o tipo de produto "{{ productToDelete?.name }}" com taxa "{{ productToDelete?.tax_rate }}"?
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
    <button type="button" class="btn btn-danger" (click)="confirmDeleteAction()">Confirmar</button>
  </div>
</ng-template>

<div class="jumbotron">
  <div class="container">
    <h1 class="display-4">Lista de Tipos de Produto</h1>
    <p class="lead">Use o campo de pesquisa abaixo para encontrar tipos de produto específicos.</p>
    <input type="text" [(ngModel)]="searchTerm" placeholder="Pesquisar" class="form-control mb-4" (input)="filterProductTypes()">

    <!-- Botão de adicionar -->
    <button class="btn btn-success mb-4" (click)="addProductType()">Adicionar Tipo de Produto</button>

    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Taxa</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let productType of filteredProductTypes">
          <td>{{ productType.id }}</td>
          <td>{{ productType.name }}</td>
          <td>{{ productType.tax_rate }}</td>
          <td>
            <button class="btn btn-primary mr-2" (click)="editProductType(productType)">Editar</button>
            <button class="btn btn-danger" (click)="deleteProductType(productType)">Apagar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
